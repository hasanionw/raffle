<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">

    <title>Hello, world!</title>
    
  </head>
  <body>
    <div id="wrapper">
        <div class="title pt-3">
            <img src="img/kredo.png" alt="" width="200">
        </div>
        <div class="myContainer">
            <div class="container leftdiv">
                <img src="img/slotMachine1.png" alt="" width="500">
            </div>
            <div class="container rightdiv text-center">
               <small>And the winner is...</small>
               <h1 id="winner"></h1>
            </div>
        </div>
        <div class="nameContainer">
            <div class="container-fluid">
                <div class="card">
                    <div class="card-body">
                        <div id="last"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script>
        $(document).ready(function(){
            const arr = ["Weinnand", "Jay", "Thomas", "Mark ", "Mikka", "Mary", "Czarina", "Hayato", "Kurt", "Kirby", "Jan", "John", "Richell"]
            let winnerdiv = $("div.rightdiv")

            $("#button").on("click", function(){
                $(this).addClass("clicked")
                setTimeout(() => {
                    $(this).removeClass("clicked")
                }, 80);

                var spin = setInterval(function(){
                    var rand = Math.floor(Math.random()*(arr.length-0))
                    $(".slotContent").text(arr[rand])
                    winnerdiv.css("visibility", "hidden")
                }, 50)

                setTimeout(() => {
                    done = true
                    clearInterval(spin);
                    var win = $("#winner").text($(".slotContent").text()),
                    i, namediv
                    namediv = document.getElementsByClassName("name")
                    for(i=0; i<arr.length; i++){
                        if(arr[i] === $(".slotContent").text()){
                            arr.splice(arr.indexOf($(".slotContent").text()), 1)
 
                        }
                    }
                    for(x=0; x<namediv.length; x++){
                        if(namediv[x].innerHTML === $(".slotContent").text()){
                            namediv[x].style.visibility = "hidden"
                        }
                    }
                    console.log(arr)
                    winnerdiv.css("visibility", "visible")
                }, 2000)
            })

            arr.forEach(listNames)

            function listNames(name, index){
                $("div#last").before("<div class=\"name\" id=\""+index+"\">"+name+"</div>")
            }
        })
    </script>
  </body>
</html>